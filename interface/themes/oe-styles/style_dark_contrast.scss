/*
*
*   High Contrast Dark Theme for OpenEMR
*   @author Tyler Wrenn
*   @author Jerry Padgett
*
*   Colors declared below are inverted for a dark theme, but with
*   higher contrast than the default dark.
*
*/

/* Dark theme overrides – note: "white" is actually dark here */
$white: #020617;   // body background (very dark slate)
$gray-100: #020617;
$gray-200: #0b1120;
$gray-300: #111827;
$gray-400: #1f2937;
$gray-500: #4b5563;
$gray-600: #6b7280;
$gray-700: #9ca3af;
$gray-800: #e5e7eb;
$gray-900: #f9fafb;
$black: #f9fafb;   // primary text on dark

$ovr-dark: $gray-100;
$ovr-light: $gray-800;

$light: $gray-200;
$dark: $gray-800;
$gray: $gray-600;

$link-color: #bfdbfe;

$body-bg: $white;       /* actually dark */
$body-color: $gray-900; /* actually light */

$btn-link-disabled-color: $gray-500;
$close-color: $black;
$close-text-shadow: 0 1px 0 $black;
$secondary-color: $gray-900;
$login-text-color: $black;

/* Bring in theme defaults (uses our overrides above) */
@import "../default-variables";

// Import Bootstrap 4 SCSS Files before doing anything
// This gets replaced in gulp now -- do not touch
// bs4import

// Fix Font Awesome fonts path
$fa-font-path: "../assets/@fortawesome/fontawesome-free/webfonts";
// Font Awesome Import
@import "../../../public/assets/@fortawesome/fontawesome-free/scss/fontawesome";
@import "../../../public/assets/@fortawesome/fontawesome-free/scss/brands";
@import "../../../public/assets/@fortawesome/fontawesome-free/scss/regular";
@import "../../../public/assets/@fortawesome/fontawesome-free/scss/solid";

/* Core OpenEMR imports (includes Select2 BS4 theme etc.) */
@import "../core";

/* Core defaults for themes */
@import "../theme-defaults";

@import "../navigation-slide/future-bootstrap";

/* ------------------------------------------------------------------
 * High-contrast CSS custom properties
 * ------------------------------------------------------------------ */

:root {
  /* Main canvas */
  --oe-body-bg: #020617;
  --oe-body-color: #e5e7eb;

  /* Surface / cards / modals */
  --oe-surface-bg: #0b1120;

  /* Top navbar */
  --oe-navbar-bg: #020617;
  --oe-navbar-color: #e5e7eb;
  --oe-navbar-link-hover-bg: #111827;
  --oe-navbar-link-hover-color: #f9fafb;
  --oe-navbar-link-active-bg: #38bdf8;
  --oe-navbar-link-active-color: #020617;

  /* Fieldsets & boxes */
  --oe-fieldset-bg: #020617;
  --oe-fieldset-color: #e5e7eb;

  /* Search bar / global search */
  --oe-search-bg: #020617;

  /* General surface override for panels, widgets, etc */
  --oe-panel-bg: #0b1120;
}

/* ------------------------------------------------------------------
 * High-contrast overrides
 * ------------------------------------------------------------------ */

/* Global body/background hardening (in case anything bypasses vars) */
html,
body {
  background-color: $body-bg;
  color: $body-color;
}

/* Buttons – ensure text is bright on colored buttons */
.btn-primary,
.btn-success,
.btn-danger,
.btn-info,
.btn-warning {
  color: $black;
}

.btn-outline-primary,
.btn-outline-success {
  color: $black;
}

/* Secondary buttons should still be clearly readable */
.btn-secondary,
.btn-secondary:hover {
  background-color: $gray-300;
  border-color: $gray-500;
  color: $black;
}

/* Forms and inputs */
.form-control,
select,
textarea,
input[type="text"],
input[type="number"],
input[type="email"],
input[type="password"],
.input-group-text {
  background-color: $gray-200;
  color: $body-color;
  border-color: $gray-500;
}

.form-control:focus,
select:focus,
textarea:focus,
input[type="text"]:focus,
input[type="number"]:focus,
input[type="email"]:focus,
input[type="password"]:focus {
  background-color: $gray-200;
  color: $body-color;
  border-color: lighten($primary, 10%);
  box-shadow: 0 0 0 0.1rem rgba(56, 189, 248, 0.65);
}

/* Tables – darker stripes, bright hover */
.table {
  color: $body-color;
}

.table-striped > tbody > tr:nth-of-type(odd) {
  background-color: $gray-200;
}

.table-hover tbody tr:hover {
  background-color: $gray-300;
}

/* App menu hover – invert correctly for dark */
.appMenu .appMenu > span:hover,
.appMenu li:hover,
.appMenu > span:hover {
  background-color: #cbd8e7 !important; // light strip
  color: $white; // dark text on light strip
}

.menuEntries.menuLabel li .menuLabel:hover {
  color: $light !important;
}

.menuDisabled {
  color: $gray-600;
}

/* LHC question text – keep readable */
.lhc-item-question-text {
  color: $black;
}

/* Select2 – ensure search field is legible on dark bg */
.select2-container--bootstrap4 .select2-selection--multiple .select2-search__field {
  background-color: $gray-200 !important;
  color: $black !important;
}

/* Tab strip – keep high contrast */
ul.tabNav a {
  color: $black;
}

/* List group inputs */
input.list-group-item {
  color: $black;
  background-color: $gray-200;
}

/* Main body wrappers */
.body_main,
.body_main_widescreen {
  background-color: $body-bg !important;
}

/* Make sure general surfaces don’t go too light */
.card,
.panel,
.modal-content {
  background-color: var(--oe-surface-bg, $gray-200);
  color: $body-color;
}

/* Search bar (top search) */
#searchBar,
#searchBar input[type="text"],
#searchBar input[type="search"] {
  background-color: var(--oe-search-bg, $gray-200);
  color: $body-color;
}

/* Left nav/sidebar elements (when present) */
#oe-nav-sidebar,
#oe-nav-sidebar .list-group-item {
  background-color: $gray-100;
  color: $body-color;
}

/* Footer / misc text helpers */
.text-muted {
  color: $gray-600 !important;
}

/* Changes SVG/logo colors to match theme */
.about-review-image > #color {
  fill: $black;
}

#mainBox .logo .emr-menu-logo > #blue-color,
#mainBox_vertical .logo .emr-menu-logo > #blue-color {
  fill: $black;
}

/* General alerts – keep contrast high */
.alert {
  color: $black;
}

/* Last: BS4/OpenEMR helper overrides */
@import "../oe-bootstrap";
